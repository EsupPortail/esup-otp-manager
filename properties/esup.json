{
    "CAS": {
        "version": "CAS3.0",
        "casBaseURL": "http://localhost/cas",
        "serviceBaseURL": "http://localhost:4000/"
    },
    "#SAML": {
        "callbackUrl": "http://localhost:4000/login",
        "issuer": "esup-otp-manager",
        "privateKeyPath": "/etc/shibboleth/sp-key.pem",
        "publicCertPath": "/etc/shibboleth/sp-cert.pem",
        "decryptionPvkPath": "/etc/shibboleth/sp-key.pem",
        "decryptionPbcPath": "/etc/shibboleth/sp-cert.pem",
        "uidSamlAttribute": "urn:oid:1.3.6.1.4.1.5923.1.1.1.6",
        "nameSamlAttribute": "urn:oid:2.16.840.1.113730.3.1.241",
        "#how_to_spMetadataUrl": "if defined, expose ServiceProviderMetadata on localhost/${spMetadataUrl}",
        "spMetadataUrl": "saml2/metadata",
        "#how_to_idpMetadataUrl": "if defined, esup-otp-manager will retrieve IDP information (certificate, entryPoint, login/logout URLs, etc.). Alternatively, you can define this information manually just below ",
        "idpMetadataUrl": "https://example.com/idp/shibboleth",
        "#idpCert": "MIIC9...73sskQ==",
        "#entryPoint": "https://example.com/idp/profile/SAML2/Redirect/SSO",
        "#logoutUrl":  "https://example.com/idp/profile/SAML2/Redirect/SLO"
    },
    "port": "",
    "api_url": "http://localhost:3000",
    "api_password":"changeit",
    "session_secret_key": "changeit",
    "admins": ["john"],
    "admins_attributes": {"memberof": ["cn=esup-otp.admin,ou=groups,dc=univ-ville,dc=fr"]},
    "managers": ["paul"],
    "managers_attributes": {"supannentiteaffectation": ["DSI"]},
    "#how_to use users_method": "remove '#' in front of methods. You can add others acls",
    "users_methods" :{
       "#random_code" : {"deny" : {"edupersonaffiliation" : ["student","alum"],"memberof":["cn=esup-otp.not_random_code,ou=groups,dc=univ-ville,dc=fr"]}},
       "#random_code_mail" : {"allow" : {"edupersonaffiliation":["student","alum"],"memberof":["cn=esup-otp.random_code_mail,ou=groups,dc=univ-ville,dc=fr"]}},
       "#bypass" : {"allow" : {"memberof":["cn=esup-otp.bypass,ou=groups,dc=univ-ville,dc=fr"]}}
    },
    "#how_to transport_regexes": "if defined, users must provide a telephone number or address that matches the corresponding regex",
    "#how_to transport_regexes sms": "`^((0[67](([.]|-| )?[0-9]){8})|((00|[+])(([.]|-| )?[0-9]){7,15}))$` authorizes French mobile numbers (10 digits starting with '06' or '07') or international numbers (7 to 15 digits starting with '+' or '00').",
    "#how_to transport_regexes mail": "`^(?!.*(?:univ[.]fr|univ-paris[.]fr)$).*$` prevents users from setting an email address containing 'univ.fr' or 'univ-paris.fr'. Users will therefore not be able to configure their university email address as a second factor.",
    "transport_regexes": {
        "sms":  "^((0[67](([.]|-| )?[0-9]){8})|((00|[+])(([.]|-| )?[0-9]){7,15}))$",
        "#mail": "^(?!.*(?:univ[.]fr|univ-paris[.]fr)$).*$"
    },
    "#how_to default_language": "available languages: ['en', 'fr']",
    "default_language": "en",
    "logs": {
        "main": {
            "level": "info",
            "#file": "/var/log/esup-otp-manager/main.log"
        },
        "access": {
            "#how_to format": "see https://github.com/expressjs/morgan#predefined-formats",
            "format": "dev",
            "#file": "/var/log/esup-otp-manager/access.log"
        }
    },
    "#how_to trustedProxies": "see https://expressjs.com/en/guide/behind-proxies.html",
    "trustedProxies": ["127.0.0.1", "loopback", "::1"]
}
